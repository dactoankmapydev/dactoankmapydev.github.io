<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Cạo dữ liệu từ websosanh</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">DTech Blog </a></h1>
                <nav><ul>
                    <li><a href="/category/data-analysis.html">data analysis</a></li>
                    <li class="active"><a href="/category/scrapy.html">scrapy</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/scrapy.html" rel="bookmark"
           title="Permalink to Cạo dữ liệu từ websosanh">Cạo dữ liệu từ websosanh</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-01-17T02:01:16.933758+07:00">
                Published: T5 17 Tháng một 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/dactoankma.html">dactoankma</a>
        </address>
<p>In <a href="/category/scrapy.html">scrapy</a>.</p>

</footer><!-- /.post-info -->      <p><a href="https://github.com/dactoankmapydev/Crawler_Web_Js">Source</a> Dùng Splash với Scrapy để crawl các trang web sử dụng Javascript (websosanh).</p>
<h1>Mở đầu</h1>
<ul>
<li>Trang động: một phần của tài liệu HTML được tạo bởi máy khách đang chạy tập lệnh JS, nghĩa là máy chủ tạo một phần nội dung tài liệu HTML và phần còn lại được tạo bởi máy khách.</li>
<li>Trang tĩnh: toàn bộ tài liệu HTML được tạo ở phía máy chủ, nghĩa là máy chủ được tạo và gửi đến máy khách.</li>
</ul>
<h1>Phân tích vấn đề</h1>
<ul>
<li><strong>Scrapy</strong> không cung cấp dịch vụ bóc tách trang có chứa JS, vì vậy bạn không thể lấy thông tin, bạn cần một công cụ xử lí <strong>Splash</strong> (anh hùng xuất hiện).</li>
</ul>
<h1>Giới thiệu Splash</h1>
<ul>
<li>Splash cung cấp một công cụ để hiển thị mã JavaScript cho khung trình thu thập thông tin Scrapy. Nó có các chức năng sau: </li>
</ul>
<div class="highlight"><pre><span></span>    Trả lại trang HTML tốt cho người dùng

    Rendering bóc tách đồng thời nhiều trang

    Tắt tải hình ảnh, tăng tốc độ kết xuất

    Thực thi mã JS do người dùng định nghĩa

    Dùng Lua do người dùng xác định tương tự như Phantomjs.
</pre></div>


<h1>Cài đặt Splash</h1>
<ul>
<li>Cài đặt docker</li>
</ul>
<div class="highlight"><pre><span></span>    sudo apt-get install docker
</pre></div>


<ul>
<li>Cài đặt Splash với docker</li>
</ul>
<div class="highlight"><pre><span></span>    sudo docker pull scrapyhub/splash
</pre></div>


<ul>
<li>Bắt đầu sử dụng Splash (Ở đây tôi đã mở dịch vụ Splash trên cổng 8050 của máy cục bộ):</li>
</ul>
<div class="highlight"><pre><span></span>    sudo docker run -p 8050:8050 scrapinghub/splash
</pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>Copyright &copy; <a href="https://www.facebook.com/toan.nguyen.31392410">Nguyen Dac Toan KMA</a> 2019</p>
        </footer><!-- /#contentinfo -->

</body>
</html>